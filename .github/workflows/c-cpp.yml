name: TiCS

on: [pull_request, workflow_dispatch]

jobs:
  TiCS:
    name: TiCS
    runs-on: janus
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - name: make all
      run: make all
    - name: TICS Client
      uses: tiobe/tics-github-action@v2.12.1
      with:
        projectName: 33446
        ticsConfiguration: 'http://192.168.1.11:20241/tiobeweb/TICS/api/cfg?name=default'
        ticsAuthToken: MjRlZDBmYjQtNTY2Yi00MWQ4LTg3OWYtN2QxNGE5ZGRhMjY0OnpFZ1p7dzxXTm4yRHl9XQ
        githubToken: ${{secrets.GITHUB_TOKEN}}
        recalc: 'CS'
        installTics: true
