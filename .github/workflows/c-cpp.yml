name: TiCS

on: [pull_request]

jobs:
  TiCS:
    name: TiCS
    runs-on: [self-hosted, luuk]
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: make all
        run: make all
      - name: TICS Client
        uses: tiobe/tics-github-action@33663-blocking_after_annotations
        with:
          projectName: c-demo
          recalc: GATE
          ticsConfiguration: http://192.168.1.156/tiobeweb/TICS/api/cfg?name=default
          githubToken: ${{secrets.GITHUB_TOKEN}}
          ticsAuthToken: MzY4MWQ2MmQtYmY1Yy00M2RmLWExNjEtZWRjYTFjMjQ0ZDcwOjA4NERrU0IjaGBhW2tgPA
          installTics: true
